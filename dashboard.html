<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Ads Management System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/dashboard-style.css">

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://apis.google.com/js/api.js" async defer></script>
</head>

<body onload="checkLogin()">

  <!-- HEADER -->
  <header class="top-header">
    <span class="header-title">Ads Management System</span>
    <a href="index.html" class="logout-btn">Logout</a>
  </header>

  <div class="dashboard-container">

    <!-- LEFT SIDEBAR -->
    <aside class="sidebar">
      <ul>
        <li class="menu-item active" onclick="showSection('facebookSection')" style="--color:#1877F2">
          <!-- <img src="img/facebook.png" class="icon"> --> Facebook
        </li>

        <li class="menu-item" onclick="showSection('instagramSection')" style="--color:#E1306C">
          
          Instagram
        </li>

        <li class="menu-item" onclick="showSection('youtubeSection')" style="--color:#FF0000">
          YouTube
        </li>
      </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content-area">

      <!-- FACEBOOK SECTION -->
      <section id="facebookSection" class="panel-section" style="display:block;">

        <div class="panel-box">
          <h2>üìò Facebook Login</h2>
          <p id="status">Not logged in.</p>
          <button id="btnLogin">Login with Facebook</button>
          <button id="btnLogout" style="display:none;">Logout</button>
        </div>

        <div class="panel-box">
          <h3>üíº Facebook Ad Accounts & Insights</h3>
          <div id="adAccountsList">Not loaded</div>
          <div id="selectedAdAccount"></div>
          <button id="btnGetAdInsights">Fetch Ad Insights (Last 7 Days)</button>
          <pre id="adInsightsResult"></pre>
          <canvas id="adChart"></canvas>
        </div>

        <div class="panel-box">
          <h3>üìÉ Facebook Pages</h3>
          <div id="pagesList">Not loaded</div>
        </div>

        <div class="panel-box">
          <h3>‚öôÔ∏è Page Actions & Insights</h3>
          <div><b>Selected Page:</b> <span id="selectedPageName"></span></div>
          <textarea id="postMessage">Hello from dashboard!</textarea>
          <button id="btnPost">Post to Page</button>
          <pre id="postResult"></pre>

          <select id="insightsMetric">
            <option value="page_fans">Fans</option>
            <option value="page_impressions">Impressions</option>
            <option value="page_engaged_users">Engaged Users</option>
          </select>

          <button id="btnGetPageInsights">Fetch Page Insights</button>
          <canvas id="pageChart"></canvas>
        </div>

      </section>


      <!-- INSTAGRAM SECTION -->
      <section id="instagramSection" class="panel-section">

        <div class="panel-box">
          <h2>üì∏ Instagram Account</h2>
          <button id="btnGetInstagramInfo">Fetch Instagram Info</button>
          <pre id="instaInfo"></pre>
        </div>

        <div class="panel-box">
          <h3>Create Instagram Post</h3>
          <input id="instaImageUrl" placeholder="Image URL">
          <textarea id="instaCaption">Hello from dashboard!</textarea>
          <button id="btnInstaPost">Create + Publish</button>
          <pre id="instaPostResult"></pre>
        </div>

        <div class="panel-box">
          <h3>Instagram Insights</h3>
          <button id="btnGetInstaInsights">Fetch IG Insights (7 days)</button>
          <button id="btnGetInstaAdMetrics">Fetch IG Ad Metrics</button>
          <canvas id="instaChart"></canvas>
        </div>

      </section>


      <!-- YOUTUBE SECTION -->
   <section id="youtubeSection" class="panel-section">

      <div class="panel-box">
        <h2>üìä YouTube Login</h2>
        <button id="btnGoogleLogin">Login with Google</button>
        <button id="btnGoogleLogout" style="display:none;">Logout</button>
        <span id="ytStatus">Not logged in</span>
      </div>

      <div class="panel-box">
        <h3>Upload Ad</h3>

        <form id="uploadForm">
          <input type="text" id="title" placeholder="Video Title" required>
          <textarea id="description"></textarea>
          <select id="privacy">
            <option>public</option>
            <option>unlisted</option>
            <option selected>private</option>
          </select>
          <input type="file" id="videoFile" accept="video/*" required>
          <button type="submit">Upload Video</button>
        </form>

        <pre id="ytUploadResult"></pre>
      </div>

      <div class="panel-box">
        <h3>YouTube Ad Metrics</h3>
        <button id="btnFetchMetrics">Fetch Metrics</button>
        <pre id="metricsResult"></pre>
        <canvas id="ytChart"></canvas>
      </div>

    </section>


    </main>
  </div>


  <!-- FACEBOOK SDK -->
  <script src="https://connect.facebook.net/en_US/sdk.js" async defer></script>

  <!-- JS FILES -->
  <script src="js/facebook.js"></script>
  <script src="js/instagram.js"></script>
  <script src="js/youtube.js"></script>
  <script src="js/main.js"></script>
  <script src="js/auth.js"></script>

  <!-- SECTION SWITCHER -->
  <script>
    function showSection(id) {
      document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
      event.target.closest('li').classList.add('active');

      document.querySelectorAll('.panel-section').forEach(sec => sec.style.display = "none");
      document.getElementById(id).style.display = "block";
    }
  </script>

</body>
</html>
