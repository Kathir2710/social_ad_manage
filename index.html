<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Social Media Marketing Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://apis.google.com/js/api.js" async defer></script>
</head>

<body>
<header>Social Media Marketing Dashboard</header>

<div class="container">
  <!-- Facebook Section -->
  <div class="card section-color-1">
    <h3>ğŸ“˜ Facebook Login</h3>
    <p class="status" id="status">Not logged in.</p>
    <button id="btnLogin">Login with Facebook</button>
    <button id="btnLogout" style="display:none">Logout</button>
    <div class="note">Use this to list pages/ad-accounts and then fetch page/instagram insights.</div>
  </div>

  <!-- Facebook Ads -->
  <div class="card section-color-2">
    <h3>ğŸ’¼ Facebook Ad Accounts & Insights</h3>
    <div id="adAccountsList">Not loaded</div>
    <div id="selectedAdAccount" style="margin:8px 0"></div>
    <button id="btnGetAdInsights">Fetch Ad Insights (last 7 days)</button>
    <pre id="adInsightsResult"></pre>
    <div class="chart-container"><canvas id="adChart"></canvas></div>
  </div>

  <!-- Facebook Pages -->
  <div class="card section-color-3">
    <h3>ğŸ“ƒ Facebook Pages</h3>
    <div id="pagesList">Not loaded</div>
  </div>

  <!-- Page Actions -->
  <div class="card section-color-4">
    <h3>âš™ï¸ Page Actions & Page Insights</h3>
    <div><b>Selected Page:</b> <span id="selectedPageName"></span></div>
    <textarea id="postMessage" placeholder="Post message">Hello from dashboard!</textarea>
    <button id="btnPost">Post to Page</button>
    <pre id="postResult"></pre>
    <select id="insightsMetric">
      <option value="page_fans">Fans</option>
      <option value="page_impressions">Impressions</option>
      <option value="page_engaged_users">Engaged Users</option>
    </select>
    <button id="btnGetPageInsights">Fetch Page Insights (7d)</button>
    <div class="chart-container"><canvas id="pageChart"></canvas></div>
  </div>

  <!-- Instagram -->
  <div class="card section-color-6">
    <h3>ğŸ“¸ Instagram (via connected Page)</h3>
    <button id="btnGetInstagramInfo">Fetch Instagram Info</button>
    <pre id="instaInfo"></pre>
    <input id="instaImageUrl" placeholder="Image URL (for posting)">
    <textarea id="instaCaption" placeholder="Caption">Hello from dashboard!</textarea>
    <button id="btnInstaPost">Create Instagram Media + Publish</button>
    <pre id="instaPostResult"></pre>

    <button id="btnGetInstaInsights">Fetch IG Insights (7d)</button>
    <button id="btnGetInstaAdMetrics">Fetch Instagram Ad Metrics (Last 7 Days)</button>
    <div class="chart-container"><canvas id="instaChart"></canvas></div>
    <div class="note">Instagram features require the Facebook Page to be linked to an Instagram Business account and the app to have approved permissions.</div>
  </div>

  <!-- YouTube -->
  <div class="card section-color-7">
    <h1>ğŸ“Š YouTube Ads Upload & Analytics</h1>

    <div class="controls">
      <button id="btnGoogleLogin">Login with Google</button>
      <button id="btnGoogleLogout" style="display:none;">Logout</button>
      <span id="ytStatus">Not logged in</span>
    </div>

    <hr>
    <h3>ğŸ¥ Upload Your Ad</h3>
    <form id="uploadForm">
      <input type="text" id="title" placeholder="Video Title" required /><br>
      <textarea id="description" placeholder="Description"></textarea><br>
      <select id="privacy">
        <option value="public">Public</option>
        <option value="unlisted">Unlisted</option>
        <option value="private" selected>Private</option>
      </select><br>
      <input type="file" id="videoFile" accept="video/*" required /><br>
      <button type="submit">Upload Video</button>
    </form>
    <pre id="ytUploadResult"></pre>

    <hr>
    <h3>ğŸ“ˆ Ad Campaign Metrics</h3>
    <button id="btnFetchMetrics">Fetch Metrics</button>
    <pre id="metricsResult"></pre>
    <canvas id="ytChart" width="400" height="200"></canvas>
  </div>
</div>

<!-- SDKs -->
<script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>

<!-- Scripts -->
<script src="js/facebook.js"></script>
<script src="js/instagram.js"></script>
<script src="js/youtube.js"></script>
<script src="js/main.js"></script>
</body>
</html>
