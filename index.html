<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Social Media Marketing Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Google Identity Services (new) -->
<script src="https://accounts.google.com/gsi/client" async defer></script>
<!-- gapi client (used for the YouTube Data client library) -->
<script src="https://apis.google.com/js/api.js" async defer></script>

<style>
body {font-family:'Roboto',sans-serif; margin:0; background:#f4f6f8; color:#333;}
header {background:#4267B2; color:#fff; padding:25px 20px; text-align:center; font-size:1.6em; font-weight:700; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
.container {max-width:1200px; margin:20px auto; padding:0 20px;}
.card {background:#fff; border-radius:12px; padding:18px 22px; margin-bottom:20px; box-shadow:0 6px 20px rgba(0,0,0,0.06);}
.card h3 {margin-top:0; color:#444; margin-bottom:10px; font-size:1.05em;}
button {background:#4267B2; color:#fff; border:none; padding:8px 14px; margin:6px 0; border-radius:6px; cursor:pointer; font-weight:500;}
button:hover {background:#365899;}
textarea,input,select {width:100%; padding:10px; margin:6px 0; border-radius:6px; border:1px solid #ccc;}
pre {background:#f0f0f0; padding:12px; border-radius:8px; overflow-x:auto; max-height:260px;}
.status {font-weight:500; margin-bottom:10px;}
.chart-container {position:relative; height:300px; margin-top:15px;}
.section-color-1 {border-left:6px solid #4267B2;}
.section-color-2 {border-left:6px solid #f57c00;}
.section-color-3 {border-left:6px solid #6a1b9a;}
.section-color-4 {border-left:6px solid #00796b;}
.section-color-5 {border-left:6px solid #1DA1F2;}
.section-color-6 {border-left:6px solid #E1306C;}
.section-color-7 {border-left:6px solid #FF0000;}
@media(max-width:600px){header{font-size:1.3em;padding:18px};.card{padding:12px}}
.note {font-size:0.9em;color:#666;margin-top:6px;}
.error {color:#b00020;font-weight:600;}
</style>
</head>
<body>
<header>Social Media Marketing Dashboard</header>
<div class="container">

<!-- FACEBOOK -->
<div class="card section-color-1">
  <h3>üìò Facebook Login</h3>
  <p class="status" id="status">Not logged in.</p>
  <button id="btnLogin">Login with Facebook</button>
  <button id="btnLogout" style="display:none">Logout</button>
  <div class="note">Use this to list pages/ad-accounts and then fetch page/instagram insights.</div>
</div>

<!-- FACEBOOK ADS -->
<div class="card section-color-2">
  <h3>üíº Facebook Ad Accounts & Insights</h3>
  <div id="adAccountsList">Not loaded</div>
  <div id="selectedAdAccount" style="margin:8px 0"></div>
  <button id="btnGetAdInsights">Fetch Ad Insights (last 7 days)</button>
  <pre id="adInsightsResult"></pre>
  <div class="chart-container"><canvas id="adChart"></canvas></div>
</div>

<!-- FACEBOOK PAGES -->
<div class="card section-color-3">
  <h3>üìÉ Facebook Pages</h3>
  <div id="pagesList">Not loaded</div>
</div>

<!-- PAGE ACTIONS -->
<div class="card section-color-4">
  <h3>‚öôÔ∏è Page Actions & Page Insights</h3>
  <div><b>Selected Page:</b> <span id="selectedPageName"></span></div>
  <textarea id="postMessage" placeholder="Post message">Hello from dashboard!</textarea>
  <button id="btnPost">Post to Page</button>
  <pre id="postResult"></pre>
  <select id="insightsMetric">
    <option value="page_fans">Fans</option>
    <option value="page_impressions">Impressions</option>
    <option value="page_engaged_users">Engaged Users</option>
  </select>
  <button id="btnGetPageInsights">Fetch Page Insights (7d)</button>
  <div class="chart-container"><canvas id="pageChart"></canvas></div>
</div>

<!-- INSTAGRAM -->
<!-- INSTAGRAM -->
<div class="card section-color-6">
  <h3>üì∏ Instagram (via connected Page)</h3>
  <button id="btnGetInstagramInfo">Fetch Instagram Info</button>
  <pre id="instaInfo"></pre>
  <input id="instaImageUrl" placeholder="Image URL (for posting)">
  <textarea id="instaCaption" placeholder="Caption">Hello from dashboard!</textarea>
  <button id="btnInstaPost">Create Instagram Media + Publish</button>
  <pre id="instaPostResult"></pre>

  <button id="btnGetInstaInsights">Fetch IG Insights (7d)</button>
  <button id="btnGetInstaAdMetrics">Fetch Instagram Ad Metrics (Last 7 Days)</button> <!-- ‚úÖ ADD THIS -->
  
  <div class="chart-container"><canvas id="instaChart"></canvas></div>
  <div class="note">Instagram features require the Facebook Page to be linked to an Instagram Business account and the app to have approved permissions.</div>
</div>

<!-- YOUTUBE -->
<div class="card section-color-7">
  <h1>üìä YouTube Ads Upload & Analytics</h1>

  <div class="controls">
    <button id="btnGoogleLogin">Login with Google</button>
    <button id="btnGoogleLogout" style="display:none;">Logout</button>
    <span id="ytStatus">Not logged in</span>
  </div>

  <hr>

  <h3>üé• Upload Your Ad</h3>
  <form id="uploadForm">
    <input type="text" id="title" placeholder="Video Title" required /><br>
    <textarea id="description" placeholder="Description"></textarea><br>
    <select id="privacy">
      <option value="public">Public</option>
      <option value="unlisted">Unlisted</option>
      <option value="private" selected>Private</option>
    </select><br>
    <input type="file" id="videoFile" accept="video/*" required /><br>
    <button type="submit">Upload Video</button>
  </form>
  <pre id="ytUploadResult"></pre>

  <hr>

  <h3>üìà Ad Campaign Metrics</h3>
  <button id="btnFetchMetrics">Fetch Metrics</button>
  <pre id="metricsResult"></pre>

  <canvas id="ytChart" width="400" height="200"></canvas>
</div>

<script src="https://apis.google.com/js/api.js"></script>
<script src="https://accounts.google.com/gsi/client"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


</div>
<script src="App.js"> </script>

<!-- Facebook SDK -->
</body>
</html>

